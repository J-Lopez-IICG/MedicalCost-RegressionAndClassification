# ----------------------------------------------------------------------------------
# 01_RAW: Datos crudos descargados por el pipeline `data_engineering`.
# ----------------------------------------------------------------------------------
raw_medical_cost_data:
  type: pandas.CSVDataset
  filepath: data/01_raw/medical_insurance_cost.csv

# ----------------------------------------------------------------------------------
# 02_INTERMEDIATE: Datos procesados por el pipeline `data_processing`.
# ----------------------------------------------------------------------------------
processed_medical_data:
  type: pandas.ExcelDataset
  filepath: data/02_intermediate/medical_insurance_cost.xlsx

# ----------------------------------------------------------------------------------
# 03_PRIMARY: Datos preparados y listos para el modelado, generados por `feature_engineering`.
# ----------------------------------------------------------------------------------
primary_medical_data:
  type: pandas.ExcelDataset
  filepath: data/03_primary/medical_insurance_cost_prepared.xlsx

# ----------------------------------------------------------------------------------
# 06_MODELS: Modelos serializados guardados por los pipelines de modelado.
# ----------------------------------------------------------------------------------
reg_model:
  type: pickle.PickleDataset
  filepath: data/06_models/linear_regression_model.pkl

log_reg_model:
  type: pickle.PickleDataset
  filepath: data/06_models/logistic_regression_model.pkl

random_forest_model:
  type: pickle.PickleDataset
  filepath: data/06_models/random_forest_model.pkl

xgboost_model:
  type: pickle.PickleDataset
  filepath: data/06_models/xgboost_model.pkl

svc_model:
  type: pickle.PickleDataset
  filepath: data/06_models/svc_model.pkl

# ----------------------------------------------------------------------------------
# 07_MODEL_OUTPUT: Métricas y resultados numéricos de los modelos.
# ----------------------------------------------------------------------------------
r2_score_output:
  type: json.JSONDataset
  filepath: data/07_model_output/r2_score.json

model_coefficients:
  type: pandas.CSVDataset
  filepath: data/07_model_output/model_coefficients.csv

classification_accuracy_log_reg:
  type: json.JSONDataset
  filepath: data/07_model_output/classification_accuracy_log_reg.json

classification_accuracy_rf:
  type: json.JSONDataset
  filepath: data/07_model_output/classification_accuracy_rf.json

classification_accuracy_xgb:
  type: json.JSONDataset
  filepath: data/07_model_output/classification_accuracy_xgb.json

classification_accuracy_svc:
  type: json.JSONDataset
  filepath: data/07_model_output/classification_accuracy_svc.json

classification_report_log_reg:
  type: text.TextDataset
  filepath: data/07_model_output/classification_report_log_reg.txt

classification_report_rf:
  type: text.TextDataset
  filepath: data/07_model_output/classification_report_rf.txt

classification_report_xgb:
  type: text.TextDataset
  filepath: data/07_model_output/classification_report_xgb.txt

classification_report_svc:
  type: text.TextDataset
  filepath: data/07_model_output/classification_report_svc.txt

log_reg_feature_importance:
  type: pandas.CSVDataset
  filepath: data/07_model_output/log_reg_feature_importance.csv

# ----------------------------------------------------------------------------------
# 08_REPORTING: Gráficos y reportes de texto generados para el análisis.
# ----------------------------------------------------------------------------------

plot_smoker_vs_charges:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/smoker_vs_charges.png

plot_age_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_age_histogram.png

plot_bmi_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_bmi_histogram.png

plot_charges_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_charges_histogram.png

plot_children_barplot:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_children_barplot.png

plot_age_boxplot:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_age_boxplot.png

plot_bmi_boxplot:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_bmi_boxplot.png

plot_charges_boxplot:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/plot_charges_boxplot.png

plot_bmi_smoker_interaction:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/bmi_smoker_interaction.png

plot_correlation_heatmap:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/exploratory/correlation_heatmap.png

# --- Gráficos del pipeline `model_regression` ---
plot_age_vs_charges:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regression/age_vs_charges.png

plot_bmi_vs_charges:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regression/bmi_vs_charges.png

plot_children_vs_charges:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regression/children_vs_charges.png

univariate_regression_output:
  type: text.TextDataset
  filepath: data/08_reporting/regression/univariate_regression_output.txt

model_evaluation_output:
  type: text.TextDataset
  filepath: data/08_reporting/regression/model_evaluation_output.txt

# --- Gráficos del pipeline `model_classification` ---
plot_log_reg_feature_importance:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/log_reg_feature_importance.png

plot_rf_grid_search_heatmap:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/rf_grid_search_heatmap.png

plot_xgb_grid_search_heatmap:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/xgb_grid_search_heatmap.png

plot_svc_grid_search_heatmap:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/svc_grid_search_heatmap.png

# --- Reportes de texto ---

classification_summary_output:
  type: text.TextDataset
  filepath: data/08_reporting/classification_summary.txt